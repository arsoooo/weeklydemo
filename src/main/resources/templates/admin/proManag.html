<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="layui/css/layui.css">
    <script src="layui/layui.js"></script>
</head>
<body>

<div id="tableData" lay-filter="tableData"></div>


<script type="text/html" id="toolbar">
    <div class="layui-btn layui-btn-sm" lay-event="see">查看</div>
    <div class="layui-btn layui-btn-sm layui-btn-danger" lay-event="delete">删除</div>
</script>
<script>
    layui.use(['layer', 'table'], function () {
        let laer = layui.layer,
            table = layui.table;


        table.render({
            elem: "#tableData",
            url: "projects",
            method:"get",
            cols: [
                [
                    {field: 'id', title: 'ID', width: "6%", sort: true},
                    {field: 'title', title: '项目名字', width: "20%"},
                    {field: 'projectTime', title: '项目用时', width: "22%"},
                    {field: 'deadlineTime', title: '计划结束日期', width: "15%"},
                    {field: 'projectState', title: '状态', width: "8%"},
                    {field: 'names', title: '成员', width: "14%"},
                    {fixed: 'right', title: '操作', width: "15%", align: 'center', toolbar: '#toolbar'}

                ]
            ]
        })

        table.on("tool(tableData)", function (obj) {

            console.log(obj)
            let event = obj.event;
            if (event === "see") {
                layer.open({
                    type: 2,
                    area: ['500px', '600px'],
                    fix: false, //不固定
                    maxmin: true,
                    shadeClose: true,
                    shade: 0.4,
                    title: "项目查看详情",
                    content: "./proManagInfo.html"
                });
            } else if (event === "delete") {
                layer.confirm('是否要删除？', {
                    btn: ['确定', '取消'] //按钮
                }, function () {
                    layer.msg("删除成功");
                });
            }
        })
    })
</script>
</body>
</html>